class PerformanceManager{constructor(){this.isLowPowerMode=!1,this.isMobile=window.matchMedia("(max-width: 768px)").matches,this.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.isVisible=!document.hidden,this.frameRate=this.isMobile?20:30,this.particleCount=this.isMobile?50:150,this.originalRAF=window.requestAnimationFrame.bind(window),this.lastRAFTime=0,this.init()}init(){this.detectDeviceCapabilities(),this.setupVisibilityListener(),this.setupReducedMotionListener(),this.optimizeForDevice()}detectDeviceCapabilities(){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;t&&(this.isLowPowerMode="2g"===t.effectiveType||"slow-2g"===t.effectiveType),navigator.deviceMemory&&navigator.deviceMemory<4&&(this.isLowPowerMode=!0),navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4&&(this.isLowPowerMode=!0),this.isLowPowerMode&&(this.frameRate=15,this.particleCount=this.isMobile?20:50)}setupVisibilityListener(){document.addEventListener("visibilitychange",()=>{this.isVisible=!document.hidden,this.notifyVisibilityChange()})}setupReducedMotionListener(){window.matchMedia("(prefers-reduced-motion: reduce)").addListener(t=>{this.prefersReducedMotion=t.matches,this.notifyMotionPreferenceChange()})}optimizeForDevice(){this.isMobile&&this.disableHeavyEffects(),this.prefersReducedMotion&&this.disableAllAnimations(),this.isLowPowerMode&&this.applyLowPowerOptimizations()}disableHeavyEffects(){const t=document.createElement("style");t.textContent="\n      @media (max-width: 768px) {\n        .modal-card {\n          backdrop-filter: none !important;\n        }\n        \n        .stars-background {\n          display: none !important;\n        }\n        \n        .constellations {\n          display: none !important;\n        }\n        \n        .orbits-container {\n          display: none !important;\n        }\n      }\n    ",document.head.appendChild(t)}disableAllAnimations(){const t=document.createElement("style");t.textContent="\n      *, *::before, *::after {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n        scroll-behavior: auto !important;\n      }\n    ",document.head.appendChild(t)}applyLowPowerOptimizations(){this.frameRate=10,this.particleCount=20;const t=document.createElement("style");t.textContent="\n      .planet-glow,\n      .sun-glow,\n      .sun-rays {\n        display: none !important;\n      }\n      \n      .planet:hover {\n        transform: none !important;\n        box-shadow: none !important;\n      }\n    ",document.head.appendChild(t)}limitRAF(t){const e=1e3/this.frameRate,i=n=>{n-this.lastRAFTime>=e?(this.lastRAFTime=n,t(n)):this.originalRAF(i)};return this.originalRAF(i)}notifyVisibilityChange(){const t=new CustomEvent("visibilitychange",{detail:{isVisible:this.isVisible}});window.dispatchEvent(t)}notifyMotionPreferenceChange(){const t=new CustomEvent("motionpreference",{detail:{prefersReducedMotion:this.prefersReducedMotion}});window.dispatchEvent(t)}getFrameRate(){return this.frameRate}getParticleCount(){return this.particleCount}shouldUseAnimations(){return!this.prefersReducedMotion&&this.isVisible}isLowPower(){return this.isLowPowerMode}isMobileDevice(){return this.isMobile}}window.performanceManager=new PerformanceManager,"undefined"!=typeof module&&module.exports&&(module.exports=PerformanceManager);class OptimizedCosmicBackground{constructor(){this.canvas=null,this.ctx=null,this.particles=[],this.constellations=[],this.animationId=null,this.resizeTimeout=null,this.maxParticles=150,this.targetFPS=30,this.frameInterval=1e3/this.targetFPS,this.lastFrameTime=0,this.isMobile=window.matchMedia("(max-width: 768px)").matches,this.isLowMotion=!1,this.init()}init(){this.createCanvas(),this.setupParticles(),this.setupConstellations(),this.bindEvents(),this.startAnimation()}createCanvas(){const t=document.getElementById("cosmic-canvas");t&&t.remove(),this.canvas=document.createElement("canvas"),this.canvas.id="cosmic-canvas",this.canvas.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: -1;\n      pointer-events: none;\n    ",document.body.insertBefore(this.canvas,document.body.firstChild),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas()}resizeCanvas(){const t=window.devicePixelRatio||1,e=this.canvas.getBoundingClientRect();this.canvas.width=e.width*t,this.canvas.height=e.height*t,this.ctx.scale(t,t),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"}setupParticles(){this.particles=[];const t=this.isMobile?50:this.maxParticles;for(let e=0;e<t;e++)this.particles.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:2*Math.random()+.5,opacity:.8*Math.random()+.2,twinkleSpeed:.02*Math.random()+.01,twinklePhase:Math.random()*Math.PI*2,driftX:.2*(Math.random()-.5),driftY:.2*(Math.random()-.5)})}setupConstellations(){this.constellations=[];const t=this.isMobile?3:5;for(let e=0;e<t;e++){const t={points:[],opacity:.3*Math.random()+.1},e=Math.floor(4*Math.random())+3;for(let i=0;i<e;i++)t.points.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight});this.constellations.push(t)}}updateParticles(t){this.isLowMotion||this.particles.forEach(e=>{e.twinklePhase+=e.twinkleSpeed*t,e.opacity=.3+.5*Math.sin(e.twinklePhase),e.x+=e.driftX*t*.01,e.y+=e.driftY*t*.01,e.x<0&&(e.x=window.innerWidth),e.x>window.innerWidth&&(e.x=0),e.y<0&&(e.y=window.innerHeight),e.y>window.innerHeight&&(e.y=0)})}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach(t=>{this.ctx.save(),this.ctx.globalAlpha=t.opacity,this.ctx.fillStyle="#ffffff",this.ctx.shadowBlur=2*t.size,this.ctx.shadowColor="#ffffff",this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,2*Math.PI),this.ctx.fill(),this.ctx.restore()}),this.isMobile||this.isLowMotion||this.constellations.forEach(t=>{this.ctx.save(),this.ctx.globalAlpha=t.opacity,this.ctx.strokeStyle="#4a9eff",this.ctx.lineWidth=1,this.ctx.beginPath(),t.points.forEach((t,e)=>{0===e?this.ctx.moveTo(t.x,t.y):this.ctx.lineTo(t.x,t.y)}),this.ctx.stroke(),this.ctx.restore()})}animate(t){if(t-this.lastFrameTime>=this.frameInterval){const e=t-this.lastFrameTime;this.updateParticles(e),this.render(),this.lastFrameTime=t}this.animationId=performanceManager.limitRAF(t=>this.animate(t))}startAnimation(){this.animationId&&cancelAnimationFrame(this.animationId),this.animate(0)}stopAnimation(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}bindEvents(){window.addEventListener("resize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.resizeCanvas(),this.setupParticles(),this.setupConstellations()},200)}),document.addEventListener("visibilitychange",()=>{document.hidden?this.stopAnimation():this.startAnimation()}),window.addEventListener("lowMotionChange",t=>{this.isLowMotion=t.detail.enabled,this.isLowMotion&&(this.setParticleCount(30),this.setFPS(15))})}setParticleCount(t){this.maxParticles=t,this.setupParticles()}setFPS(t){this.targetFPS=t,this.frameInterval=1e3/this.targetFPS}destroy(){this.stopAnimation(),this.canvas&&this.canvas.remove()}}if(document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".stars-container, .constellation-lines, .floating-particles").forEach(t=>t.remove()),window.cosmicBackground=new OptimizedCosmicBackground}),"loading"===document.readyState);else{document.querySelectorAll(".stars-container, .constellation-lines, .floating-particles").forEach(t=>t.remove()),window.cosmicBackground=new OptimizedCosmicBackground}class PlanetAnimations{constructor(){this.planets=[],this.isInitialized=!1,this.touchDevice="ontouchstart"in window,this.reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.resizeTimeout=null,this.floatingAnimationId=null,this.init()}init(){this.setupPlanets(),this.bindEvents(),this.startAnimations(),this.isInitialized=!0}setupPlanets(){document.querySelectorAll(".planet").forEach(t=>{const e={element:t,type:t.dataset.planet,tooltip:t.querySelector(".planet-tooltip"),surface:t.querySelector(".planet-surface"),glow:t.querySelector(".planet-glow"),icon:t.querySelector(".planet-icon"),name:t.querySelector(".planet-name"),isHovered:!1,isActive:!1,originalTransform:"",animationOffset:Math.random()*Math.PI*2};this.planets.push(e),this.setupPlanetEvents(e)})}setupPlanetEvents(t){const{element:e,tooltip:i}=t;if(e.addEventListener("mouseenter",()=>this.handlePlanetHover(t,!0)),e.addEventListener("mouseleave",()=>this.handlePlanetHover(t,!1)),e.addEventListener("click",e=>this.handlePlanetClick(e,t)),this.touchDevice){let i=0;e.addEventListener("touchstart",t=>{t.preventDefault(),i=Date.now(),e.style.transform="scale(1.05)",e.style.transition="transform 0.1s ease"},{passive:!1}),e.addEventListener("touchend",n=>{n.preventDefault();const o=Date.now()-i;e.style.transform="",o<500&&this.handlePlanetTouch(n,t)},{passive:!1}),e.addEventListener("touchcancel",()=>{e.style.transform=""},{passive:!0})}e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handlePlanetClick(e,t))}),e.addEventListener("focus",()=>this.handlePlanetFocus(t,!0)),e.addEventListener("blur",()=>this.handlePlanetFocus(t,!1)),e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label",`Open ${t.type} information`)}handlePlanetHover(t,e){this.touchDevice||(t.isHovered=e,e?(this.showPlanetTooltip(t),this.enhancePlanetGlow(t),this.pausePlanetOrbitalMotion(t)):(this.hidePlanetTooltip(t),this.normalPlanetGlow(t),this.resumePlanetOrbitalMotion(t)))}handlePlanetTouch(t,e){this.handlePlanetClick(t,e)}handlePlanetClick(t,e){t.preventDefault(),t.stopPropagation(),this.animatePlanetClick(e);const i=window.matchMedia("(max-width: 768px)").matches;setTimeout(()=>{i&&window.mobileCardSystem?window.mobileCardSystem.openCard(e.type):window.zoomSystem?window.zoomSystem.openZoom(e.type,e.element):this.openPlanetModal(e.type)},200)}handlePlanetFocus(t,e){e?(this.showPlanetTooltip(t),this.enhancePlanetGlow(t)):(this.hidePlanetTooltip(t),this.normalPlanetGlow(t))}showPlanetTooltip(t){t.tooltip&&(t.isActive=!0,t.element.classList.add("active"),t.tooltip.classList.add("tooltip-visible"))}hidePlanetTooltip(t){t.tooltip&&(t.isActive=!1,t.element.classList.remove("active"),t.tooltip.classList.remove("tooltip-visible"))}enhancePlanetGlow(t){t.glow&&!this.reducedMotion&&t.glow.classList.add("glow-active")}normalPlanetGlow(t){t.glow&&!this.reducedMotion&&t.glow.classList.remove("glow-active")}animatePlanetClick(t){if(this.reducedMotion)return;const{element:e}=t;e.style.transition="transform 0.1s ease",e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transition="transform 0.2s ease",e.style.transform="scale(1.05)",setTimeout(()=>{e.style.transition="transform 0.3s ease",e.style.transform="scale(1)"},100)},100)}pausePlanetOrbitalMotion(t){this.reducedMotion||(t.element.style.animationPlayState="paused")}resumePlanetOrbitalMotion(t){this.reducedMotion||(t.element.style.animationPlayState="running")}openPlanetModal(t){const e=new CustomEvent("openPlanetModal",{detail:{planet:t}});document.dispatchEvent(e)}startAnimations(){this.reducedMotion||this.animateFloating()}animateFloating(t=0){const e=.001*t;this.planets.forEach(t=>{if(t.isHovered||t.isActive)return;const i=3*Math.sin(.5*e+t.animationOffset),n=2*Math.cos(.3*e+t.animationOffset);t.element.style.transform.includes("scale")||(t.element.style.transform=`translate(${i}px, ${n}px)`)}),this.floatingAnimationId=performanceManager.limitRAF(t=>this.animateFloating(t))}setupIntersectionObserver(){const t=new IntersectionObserver(t=>{t.forEach(t=>{const e=this.planets.find(e=>e.element===t.target);e&&(t.isIntersecting?this.resumePlanetAnimations(e):this.pausePlanetAnimations(e))})},{threshold:.1});this.planets.forEach(e=>{t.observe(e.element)})}pausePlanetAnimations(t){t.element.style.animationPlayState="paused"}resumePlanetAnimations(t){this.reducedMotion||(t.element.style.animationPlayState="running")}bindEvents(){window.addEventListener("resize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.handleResize()},200)}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{this.handleResize()},100)})}handleResize(){this.planets.forEach(t=>{this.hidePlanetTooltip(t)})}destroy(){this.planets.forEach(t=>{this.hidePlanetTooltip(t),t.element.style.animation="none",t.element.style.transform=""}),this.floatingAnimationId&&(cancelAnimationFrame(this.floatingAnimationId),this.floatingAnimationId=null),this.planets=[],this.isInitialized=!1}}document.addEventListener("DOMContentLoaded",()=>{window.planetAnimations=new PlanetAnimations}),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",t=>{window.planetAnimations&&(window.planetAnimations.reducedMotion=t.matches,t.matches?window.planetAnimations.destroy():window.planetAnimations=new PlanetAnimations)});class LowMotionManager{constructor(){this.isMobile=this.detectMobile(),this.prefersReducedMotion=this.detectReducedMotion(),this.isLowPerformance=this.detectLowPerformance(),this.shouldUseLowMotion=this.isMobile||this.prefersReducedMotion||this.isLowPerformance,this.init()}detectMobile(){return window.matchMedia("(max-width: 768px)").matches||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window}detectReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}detectLowPerformance(){const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,e=t&&("slow-2g"===t.effectiveType||"2g"===t.effectiveType),i=navigator.deviceMemory&&navigator.deviceMemory<4,n=navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4;return e||i||n}init(){this.shouldUseLowMotion&&this.enableLowMotionMode(),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",t=>{t.matches?this.enableLowMotionMode():this.isMobile||this.isLowPerformance||this.disableLowMotionMode()}),window.matchMedia("(max-width: 768px)").addEventListener("change",t=>{t.matches?this.enableLowMotionMode():this.prefersReducedMotion||this.isLowPerformance||this.disableLowMotionMode()})}enableLowMotionMode(){document.documentElement.classList.add("low-motion"),document.documentElement.classList.add("mobile-optimized"),window.cosmicBackground&&(window.cosmicBackground.setParticleCount(50),window.cosmicBackground.setFPS(20)),this.disableHeavyAnimations(),this.optimizeRendering(),console.log("Low motion mode enabled for better performance")}disableLowMotionMode(){document.documentElement.classList.remove("low-motion"),document.documentElement.classList.remove("mobile-optimized"),window.cosmicBackground&&(window.cosmicBackground.setParticleCount(150),window.cosmicBackground.setFPS(30)),console.log("Low motion mode disabled")}disableHeavyAnimations(){const t=document.createElement("style");t.id="low-motion-styles",t.textContent="\n      .low-motion .stars-container,\n      .low-motion .constellation-lines,\n      .low-motion .floating-particles {\n        display: none !important;\n      }\n      \n      .low-motion .planet-glow {\n        filter: none !important;\n        box-shadow: none !important;\n      }\n      \n      .low-motion .orbit {\n        animation: none !important;\n      }\n      \n      .low-motion .cosmic-background {\n        background: linear-gradient(135deg, #0a0a2e 0%, #16213e 50%, #1a1a3a 100%) !important;\n      }\n      \n      .low-motion *,\n      .low-motion *::before,\n      .low-motion *::after {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n      }\n      \n      .low-motion .planet {\n        transition: transform 0.2s ease !important;\n      }\n      \n      .low-motion .modal {\n        transition: opacity 0.15s ease, transform 0.15s ease !important;\n      }\n    ",document.head.appendChild(t)}optimizeRendering(){document.querySelectorAll(".planet").forEach(t=>{t.style.willChange="transform"});document.querySelectorAll(".orbit, .stars-container, .constellation-lines").forEach(t=>{t.style.willChange="auto"})}isLowMotionEnabled(){return this.shouldUseLowMotion}isMobileDevice(){return this.isMobile}getPerformanceLevel(){return this.isLowPerformance?"low":this.isMobile?"medium":"high"}}document.addEventListener("DOMContentLoaded",()=>{window.lowMotionManager=new LowMotionManager}),"loading"===document.readyState||(window.lowMotionManager=new LowMotionManager);class TouchOptimizations{constructor(){this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent),this.isAndroid=/Android/.test(navigator.userAgent),this.isTouchDevice&&this.init()}init(){this.optimizeViewport(),this.preventZoom(),this.optimizeScrolling(),this.addTouchStyles(),this.optimizeModals()}optimizeViewport(){let t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover")}preventZoom(){document.addEventListener("touchstart",t=>{t.touches.length>1&&t.preventDefault()},{passive:!1});let t=0;document.addEventListener("touchend",e=>{const i=(new Date).getTime();i-t<=300&&e.preventDefault(),t=i},{passive:!1})}optimizeScrolling(){document.body.style.webkitOverflowScrolling="touch",this.isIOS&&document.body.addEventListener("touchmove",t=>{t.target===document.body&&t.preventDefault()},{passive:!1})}addTouchStyles(){const t=document.createElement("style");t.id="touch-optimizations",t.textContent="\n      /* Touch-specific styles */\n      @media (hover: none) and (pointer: coarse) {\n        /* Remove hover effects on touch devices */\n        .planet:hover {\n          transform: none !important;\n        }\n        \n        /* Improve touch targets */\n        .planet {\n          min-width: 44px;\n          min-height: 44px;\n          touch-action: manipulation;\n        }\n        \n        /* Better touch feedback */\n        .planet:active {\n          transform: scale(1.05) !important;\n          transition: transform 0.1s ease !important;\n        }\n        \n        /* Hide tooltips on touch devices */\n        .planet-tooltip {\n          display: none !important;\n        }\n        \n        /* Optimize modal close buttons for touch */\n        .modal-close {\n          min-width: 44px;\n          min-height: 44px;\n          padding: 12px;\n        }\n        \n        /* Improve button touch targets */\n        button {\n          min-height: 44px;\n          touch-action: manipulation;\n        }\n        \n        /* Prevent text selection on touch */\n        .planet,\n        .modal-content h2,\n        .modal-content h3 {\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n          user-select: none;\n        }\n        \n        /* Optimize scrolling areas */\n        .modal-content {\n          -webkit-overflow-scrolling: touch;\n          overscroll-behavior: contain;\n        }\n      }\n      \n      /* iOS specific optimizations */\n      @supports (-webkit-touch-callout: none) {\n        .planet {\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: transparent;\n        }\n        \n        .modal {\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n        }\n      }\n      \n      /* Android specific optimizations */\n      @media screen and (-webkit-min-device-pixel-ratio: 0) {\n        .planet {\n          -webkit-tap-highlight-color: rgba(74, 158, 255, 0.2);\n        }\n      }\n    ",document.head.appendChild(t)}optimizeModals(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal").forEach(t=>{t.addEventListener("touchmove",e=>{e.target===t&&e.preventDefault()},{passive:!1}),t.addEventListener("touchend",e=>{if(e.target===t){const e=t.querySelector(".modal-close");e&&e.click()}},{passive:!0})})})}addTouchFeedback(t,e={}){const{scale:i=1.05,duration:n=100,color:o="rgba(74, 158, 255, 0.2)"}=e;t.addEventListener("touchstart",()=>{t.style.transform=`scale(${i})`,t.style.backgroundColor=o,t.style.transition=`transform ${n}ms ease, background-color ${n}ms ease`},{passive:!0}),t.addEventListener("touchend",()=>{t.style.transform="",t.style.backgroundColor=""},{passive:!0}),t.addEventListener("touchcancel",()=>{t.style.transform="",t.style.backgroundColor=""},{passive:!0})}optimizeElement(t){this.isTouchDevice&&(t.style.touchAction="manipulation",t.style.webkitTapHighlightColor="transparent",t.style.webkitTouchCallout="none",t.style.webkitUserSelect="none",t.style.userSelect="none")}}document.addEventListener("DOMContentLoaded",()=>{window.touchOptimizations=new TouchOptimizations}),"loading"===document.readyState||(window.touchOptimizations=new TouchOptimizations);class MobileCardSystem{constructor(){this.isMobile=window.matchMedia("(max-width: 768px)").matches,this.currentCard=null,this.overlay=null,this.cards={},this.cardOrder=["dev","media","learn"],this.currentIndex=0,this.planetData={dev:{title:"PalmBit.dev",subtitle:"Development Studio",services:["Custom Development","Chat Bots","AI Integrations","Web Development"],primaryAction:{text:"Visit Studio",url:"https://palmbit.dev",icon:"fas fa-external-link-alt"},social:{telegram:"https://t.me/PalmBitNavigatorBot",instagram:"@palmbit.dev"}},media:{title:"PalmBit.media",subtitle:"Media Platform",services:["Fast & Reliable","Multilingual","Digital Focused"],primaryAction:{text:"Visit Platform",url:"https://palmbit.media",icon:"fas fa-external-link-alt"},social:{telegram:"https://t.me/PalmBitNavigatorBot",instagram:"@palmbit.media"}},learn:{title:"PalmBit Learn",subtitle:"Educational Platform",services:["Video Courses","Professional Certifications","Expert Training","Hands-on Projects"],primaryAction:{text:"Notify Me",action:"notify",icon:"fas fa-bell"},social:{telegram:"https://t.me/PalmBitNavigatorBot",instagram:"@palmbit.learn"}}},this.init()}init(){this.isMobile&&(this.createOverlay(),this.bindEvents(),this.setupResponsiveListener())}createOverlay(){this.overlay=document.createElement("div"),this.overlay.className="modal-card-overlay",this.overlay.addEventListener("click",()=>this.closeCard()),document.body.appendChild(this.overlay)}bindEvents(){document.querySelectorAll(".planet").forEach(t=>{t.addEventListener("click",t=>this.handlePlanetClick(t))}),document.addEventListener("keydown",t=>{"Escape"===t.key&&this.closeCard()})}handlePlanetClick(t){if(!this.isMobile)return;t.preventDefault(),t.stopPropagation();const e=t.currentTarget.dataset.type;e&&this.planetData[e]?this.showCard(e):console.warn("Unknown planet type:",e)}showCard(t){0===Object.keys(this.cards).length&&this.cardOrder.forEach(t=>{const e=this.createCardElement(t,this.planetData[t]);this.bindSwipe(e),document.body.appendChild(e),this.cards[t]=e}),this.overlay.classList.add("visible"),this.currentIndex=this.cardOrder.indexOf(t),this.updateVisibleCard(!0)}createCardElement(t,e){const i=document.createElement("div");i.className=`modal-card ${t}`,i.innerHTML=`\n      <div class="modal-card-header">\n        <button class="modal-card-close" aria-label="Close">\n          <i class="fas fa-times"></i>\n        </button>\n        <h2 class="modal-card-title">${e.title}</h2>\n        <p class="modal-card-subtitle">${e.subtitle}</p>\n      </div>\n      \n      <div class="modal-card-content">\n        <ul class="modal-card-services">\n          ${e.services.map(t=>`\n            <li class="modal-card-service">${t}</li>\n          `).join("")}\n        </ul>\n      </div>\n      \n      <div class="modal-card-footer">\n        <div class="modal-card-actions">\n          ${this.createPrimaryButton(e.primaryAction)}\n          <button class="modal-card-btn secondary">\n            <i class="fas fa-arrow-left"></i>\n            Back to Space\n          </button>\n        </div>\n        \n        <div class="modal-card-social">\n          <h4>🤖 Connect</h4>\n          <div class="modal-card-social-links">\n            <a href="${e.social.telegram}" class="modal-card-social-link" target="_blank">\n              <i class="fab fa-telegram-plane"></i>\n              Bot Navigator\n            </a>\n            <a href="https://instagram.com/${e.social.instagram.replace("@","")}" class="modal-card-social-link" target="_blank">\n              <i class="fab fa-instagram"></i>\n              ${e.social.instagram}\n            </a>\n          </div>\n        </div>\n      </div>\n    `;const n=i.querySelector(".modal-card-close"),o=i.querySelector(".modal-card-btn.secondary"),s=i.querySelector(".modal-card-btn.primary");return n.addEventListener("click",()=>this.closeCard()),o.addEventListener("click",()=>this.closeCard()),"notify"===e.primaryAction.action&&s.addEventListener("click",()=>this.handleNotifyAction()),i}bindSwipe(t){let e=0;t.addEventListener("touchstart",t=>{e=t.touches[0].clientX},{passive:!0}),t.addEventListener("touchend",t=>{const i=t.changedTouches[0].clientX-e;Math.abs(i)>50&&(i<0?this.nextCard():this.prevCard())},{passive:!0})}updateVisibleCard(t=!1){Object.values(this.cards).forEach(t=>{t.classList.remove("visible"),t.style.transform="",t.style.opacity=""});const e=this.cardOrder[this.currentIndex],i=this.cards[e];this.currentCard=i,i.classList.add("visible")}nextCard(){this.currentIndex>=this.cardOrder.length-1||this.switchCard(this.currentIndex+1)}prevCard(){this.currentIndex<=0||this.switchCard(this.currentIndex-1)}switchCard(t){if(t===this.currentIndex)return;const e=this.cards[this.cardOrder[this.currentIndex]],i=this.cards[this.cardOrder[t]],n=t>this.currentIndex?1:-1,o="translate(-50%, -50%)";i.classList.add("visible"),i.style.transform=`${o} translateX(${100*n}vw) scale(1)`,i.style.opacity="0",i.style.pointerEvents="auto",performanceManager.limitRAF(()=>{e.style.transform=`${o} translateX(${100*-n}vw) scale(1)`,e.style.opacity="0",e.style.pointerEvents="none",i.style.transform=`${o} translateX(0) scale(1)`,i.style.opacity="1"}),setTimeout(()=>{e.classList.remove("visible"),e.style.transform="",e.style.opacity="",e.style.pointerEvents="",i.style.transform="",i.style.opacity="",i.style.pointerEvents=""},300),this.currentIndex=t,this.currentCard=i}createPrimaryButton(t){return t.url?`\n        <a href="${t.url}" class="modal-card-btn primary" target="_blank">\n          <i class="${t.icon}"></i>\n          ${t.text}\n        </a>\n      `:`\n        <button class="modal-card-btn primary">\n          <i class="${t.icon}"></i>\n          ${t.text}\n        </button>\n      `}handleNotifyAction(){this.closeCard(),window.openNotifyForm&&window.openNotifyForm()}closeCard(){0!==Object.keys(this.cards).length&&(this.overlay.classList.remove("visible"),Object.values(this.cards).forEach(t=>t.classList.remove("visible")),setTimeout(()=>{Object.values(this.cards).forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)}),this.cards={},this.currentCard=null},300))}setupResponsiveListener(){window.matchMedia("(max-width: 768px)").addListener(t=>{t.matches?(this.isMobile=!0,this.overlay||(this.createOverlay(),this.bindEvents())):(this.isMobile=!1,this.closeCard())})}isActive(){return this.isMobile}}document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{window.mobileCardSystem=new MobileCardSystem},150)}),"undefined"!=typeof module&&module.exports&&(module.exports=MobileCardSystem);class ZoomSystem{constructor(){this.isActive=!1,this.currentPlanet=null,this.zoomContainer=null,this.backButton=null,this.isTransitioning=!1,this.isMobile=window.matchMedia("(max-width: 768px)").matches,this.socialsModal=null,this.planetData={dev:{title:"PalmBit.dev",subtitle:"Development Studio",description:"Navigate Your Tech Universe",color:"rgba(0, 245, 255, 0.8)",items:[{label:"AI Solutions",position:{orbit:1,angle:0}},{label:"Web Development",position:{orbit:1,angle:180}},{label:"Automation",position:{orbit:2,angle:90}},{label:"Custom Development",position:{orbit:2,angle:270}},{label:"Chat Bots",position:{orbit:3,angle:45}},{label:"AI Integrations",position:{orbit:3,angle:225}}],actions:[{label:"Visit Studio",url:"https://palmbit.dev",primary:!0},{label:"Socials",action:"showSocials",primary:!1}]},media:{title:"PalmBit.media",subtitle:"IT/AI/Crypto Media Hub",description:"Navigate Your Tech Universe",color:"rgba(177, 0, 255, 0.8)",items:[{label:"Tech News",position:{orbit:1,angle:0}},{label:"AI Insights",position:{orbit:1,angle:120}},{label:"Crypto Updates",position:{orbit:1,angle:240}},{label:"Market Analytics",position:{orbit:2,angle:60}},{label:"Expert Reviews",position:{orbit:2,angle:180}},{label:"Industry Trends",position:{orbit:2,angle:300}}],actions:[{label:"Visit Media",url:"https://palmbit.media",primary:!0},{label:"Socials",action:"showSocials",primary:!1}]},learn:{title:"PalmBit Learn",subtitle:"Educational Platform",description:"Navigate Your Tech Universe",color:"rgba(255, 177, 0, 0.8)",items:[{label:"Video Courses",position:{orbit:1,angle:0}},{label:"Certifications",position:{orbit:1,angle:180}},{label:"Expert Training",position:{orbit:2,angle:90}},{label:"Hands-on Projects",position:{orbit:2,angle:270}},{label:"Live Workshops",position:{orbit:3,angle:45}},{label:"Community",position:{orbit:3,angle:225}}],actions:[{label:"Coming Soon",action:"showNotifyForm",primary:!0},{label:"Socials",action:"showSocials",primary:!1}]}},this.init()}init(){this.isMobile||(this.createZoomContainer(),this.bindEvents())}createZoomContainer(){this.zoomContainer=document.createElement("div"),this.zoomContainer.className="zoom-container",this.zoomContainer.innerHTML='\n      <div class="zoom-overlay"></div>\n      <div class="zoom-content">\n        <div class="zoom-planet-wrapper">\n          <div class="zoom-planet">\n            <img src="" alt="" class="zoom-planet-image">\n          </div>\n        </div>\n        <div class="zoom-planet-info">\n          <h2 class="zoom-planet-title"></h2>\n          <p class="zoom-planet-subtitle"></p>\n        </div>\n        <div class="zoom-orbital-system">\n          <div class="zoom-orbit zoom-orbit-1"></div>\n          <div class="zoom-orbit zoom-orbit-2"></div>\n          <div class="zoom-orbit zoom-orbit-3"></div>\n          <div class="zoom-orbit-labels"></div>\n        </div>\n        <div class="zoom-actions"></div>\n      </div>\n      <button class="zoom-back-btn" aria-label="Back to main view">\n        <i class="fas fa-arrow-left"></i>\n      </button>\n    ',document.body.appendChild(this.zoomContainer),this.backButton=this.zoomContainer.querySelector(".zoom-back-btn"),this.setupBackButton()}setupBackButton(){this.backButton&&this.backButton.addEventListener("click",()=>this.closeZoom())}bindEvents(){document.addEventListener("click",t=>{const e=t.target.closest(".planet");if(e&&!this.isTransitioning){const i=e.dataset.planet;i&&this.planetData[i]&&(t.preventDefault(),t.stopPropagation(),this.openZoom(i,e))}}),document.addEventListener("keydown",t=>{"Escape"===t.key&&this.isActive&&this.closeZoom()}),window.addEventListener("popstate",t=>{this.isActive&&this.closeZoom(!1)}),window.addEventListener("resize",()=>{const t=window.matchMedia("(max-width: 768px)").matches;t!==this.isMobile&&(this.isMobile=t,this.isActive&&this.isMobile&&this.closeZoom())})}openZoom(t,e){if(this.isTransitioning||this.isActive||this.isMobile)return;this.isTransitioning=!0,this.currentPlanet=t,this.currentPlanetElement=e;const i=this.planetData[t];this.hideAllTooltips(),this.resetAllPlanetStates(),this.hideOriginalPlanet(e);const n=e.querySelector(".planet-image");this.setupZoomContent(i,n.src),history.pushState({zoom:t},"",`#${t}`),this.zoomContainer.style.display="block",document.body.classList.add("zoom-active"),performanceManager.limitRAF(()=>{this.zoomContainer.classList.add("active"),this.isActive=!0,setTimeout(()=>{this.isTransitioning=!1},1200)}),document.body.style.overflow="hidden",setTimeout(()=>{this.backButton.focus()},1300)}setupZoomContent(t,e){const i=this.zoomContainer.querySelector(".zoom-planet-image"),n=this.zoomContainer.querySelector(".zoom-planet-title"),o=this.zoomContainer.querySelector(".zoom-planet-subtitle"),s=this.zoomContainer.querySelector(".zoom-orbit-labels"),a=this.zoomContainer.querySelector(".zoom-actions");i.src=e,i.alt=t.title,n.textContent=t.title,o.textContent=t.subtitle,this.zoomContainer.className=`zoom-container ${this.currentPlanet}`,s.innerHTML="",t.items.forEach((t,e)=>{const i=document.createElement("div");i.className=`zoom-orbit-label orbit-${t.position.orbit}`,i.innerHTML=`<span>${t.label}</span>`;const n=t.position.angle,o=this.getOrbitRadius(t.position.orbit),a=Math.cos(n*Math.PI/180)*o,r=Math.sin(n*Math.PI/180)*o;i.style.left=`calc(50% + ${a}px)`,i.style.top=`calc(50% + ${r}px)`,i.style.animationDelay=.5+.1*e+"s",s.appendChild(i)}),a.innerHTML="",t.actions.forEach(t=>{const e=document.createElement("button");e.className="zoom-action-btn "+(t.primary?"primary":"secondary"),e.textContent=t.label,t.url?e.addEventListener("click",()=>{window.open(t.url,"_blank")}):"showSocials"===t.action?e.addEventListener("click",()=>this.showSocials()):"showNotifyForm"===t.action&&e.addEventListener("click",()=>this.showNotifyForm()),a.appendChild(e)})}getOrbitRadius(t){return 180+82.5*(t-1)}closeZoom(t=!0){!this.isTransitioning&&this.isActive&&(this.isTransitioning=!0,this.zoomContainer.classList.remove("active"),document.body.classList.remove("zoom-active"),document.body.style.overflow="",this.showOriginalPlanet(),t&&window.location.hash===`#${this.currentPlanet}`&&history.back(),setTimeout(()=>{this.zoomContainer.style.display="none",this.isActive=!1,this.isTransitioning=!1,this.currentPlanetElement&&this.currentPlanetElement.focus(),this.currentPlanet=null,this.currentPlanetElement=null},800))}hideAllTooltips(){document.querySelectorAll(".planet-tooltip").forEach(t=>{t.style.opacity="0",t.style.visibility="hidden",t.style.pointerEvents="none"});document.querySelectorAll(".popup, .dropdown, .modal-overlay").forEach(t=>{t.style.opacity="0",t.style.visibility="hidden",t.style.pointerEvents="none"})}resetAllPlanetStates(){document.querySelectorAll(".planet").forEach(t=>{t.classList.remove("active","hovered","zoomed"),t.style.transform="",t.style.transition="";const e=t.querySelector(".planet-glow");e&&(e.style.opacity="0",e.style.transform="")})}hideOriginalPlanet(t){t.style.transition="opacity 0.6s ease-out, transform 0.6s ease-out",t.style.opacity="0",t.style.transform="scale(0.8)",t.style.pointerEvents="none"}showOriginalPlanet(){this.currentPlanetElement&&(this.currentPlanetElement.style.transition="opacity 0.6s ease-in, transform 0.6s ease-in",this.currentPlanetElement.style.opacity="1",this.currentPlanetElement.style.transform="scale(1)",this.currentPlanetElement.style.pointerEvents="auto")}showSocials(){if(this.socialsModal)return;const t=this.getSocialsData(this.currentPlanet),e=document.createElement("div");e.className="planet-modal socials-modal",e.innerHTML=`\n      <div class="modal-overlay"></div>\n      <div class="modal-content">\n        <button class="modal-close" aria-label="Close socials"><i class="fas fa-times"></i></button>\n        <div class="modal-body">\n          <div class="modal-social">\n            <h3 class="modal-social-title text-gradient">Explore our socials</h3>\n            <div class="social-links">\n              <a href="${t.telegram}" class="social-link" target="_blank">\n                <i class="fab fa-telegram-plane"></i>\n                Telegram Bot Navigator\n              </a>\n              <a href="https://instagram.com/${t.instagram.replace("@","")}" class="social-link" target="_blank">\n                <i class="fab fa-instagram"></i>\n                Instagram\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    `,document.body.appendChild(e),performanceManager.limitRAF(()=>e.classList.add("active"));const i=()=>{e.classList.remove("active"),setTimeout(()=>{e.remove(),this.socialsModal=null},300)};e.querySelector(".modal-close").addEventListener("click",i),e.querySelector(".modal-overlay").addEventListener("click",i),this.socialsModal=e}showNotifyForm(){window.modalSystem&&window.modalSystem.showNotifyForm()}isZoomActive(){return this.isActive}getCurrentPlanet(){return this.currentPlanet}destroy(){this.zoomContainer&&this.zoomContainer.parentNode&&this.zoomContainer.parentNode.removeChild(this.zoomContainer),document.body.classList.remove("zoom-active"),document.body.style.overflow="",this.isActive=!1,this.currentPlanet=null,this.isTransitioning=!1}getSocialsData(t){const e={dev:{telegram:"https://t.me/PalmBitNavigatorBot",instagram:"@palmbit.dev"},media:{telegram:"https://t.me/PalmBitNavigatorBot",instagram:"@palmbit.media"},learn:{telegram:"https://t.me/PalmBitNavigatorBot",instagram:"@palmbit.learn"}};return e[t]||e.dev}}document.addEventListener("DOMContentLoaded",()=>{window.zoomSystem=new ZoomSystem}),window.addEventListener("beforeunload",()=>{window.zoomSystem&&window.zoomSystem.destroy()});class CosmicApp{constructor(){this.isLoaded=!1,this.loadingScreen=null,this.cosmicContainer=null,this.components={},this.performanceMetrics={loadStart:performance.now(),loadEnd:null,firstPaint:null,firstContentfulPaint:null},this.init()}init(){this.setupLoadingScreen(),this.bindEvents(),this.startLoadingSequence()}setupLoadingScreen(){this.loadingScreen=document.getElementById("loadingScreen"),this.cosmicContainer=document.getElementById("cosmicContainer"),this.loadingScreen&&this.cosmicContainer?(this.cosmicContainer.style.opacity="0",this.cosmicContainer.style.visibility="hidden"):console.error("Required elements not found")}startLoadingSequence(){const t=[{message:"Initializing Cosmic Navigator...",duration:800},{message:"Mapping Star Systems...",duration:600},{message:"Calibrating Planet Orbits...",duration:700},{message:"Establishing Connections...",duration:500},{message:"Ready for Exploration!",duration:400}];let e=0;const i=this.loadingScreen.querySelector(".loading-text"),n=()=>{if(e<t.length){const o=t[e];i&&(i.textContent=o.message),setTimeout(()=>{e++,n()},o.duration)}else this.completeLoading()};setTimeout(n,500)}completeLoading(){this.performanceMetrics.loadEnd=performance.now(),this.loadingScreen.style.transition="opacity 0.8s ease, visibility 0.8s ease",this.loadingScreen.style.opacity="0",this.loadingScreen.style.visibility="hidden",setTimeout(()=>{this.cosmicContainer.style.transition="opacity 1s ease, visibility 1s ease",this.cosmicContainer.style.opacity="1",this.cosmicContainer.style.visibility="visible",this.startCosmicAnimations(),this.isLoaded=!0,this.dispatchLoadedEvent(),setTimeout(()=>{this.loadingScreen&&this.loadingScreen.parentNode&&this.loadingScreen.parentNode.removeChild(this.loadingScreen)},1e3)},200)}startCosmicAnimations(){this.animateElementsEntrance(),setTimeout(()=>{this.showNavigationHint()},8e3)}animateElementsEntrance(){[{selector:".central-sun",delay:0},{selector:".orbit-dev",delay:2e3},{selector:".orbit-media",delay:2500},{selector:".orbit-learn",delay:3e3},{selector:".planet-dev",delay:4e3},{selector:".planet-media",delay:4500},{selector:".planet-learn",delay:5e3}].forEach(({selector:t,delay:e})=>{setTimeout(()=>{const e=document.querySelector(t);e&&e.classList.add("fade-in")},e)})}showNavigationHint(){const t=document.getElementById("navigationHint");t&&(t.style.opacity="1",t.style.transform="translateX(-50%) translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateX(-50%) translateY(20px)"},5e3))}bindEvents(){window.addEventListener("load",()=>this.handleWindowLoad()),window.addEventListener("resize",()=>this.handleResize()),window.addEventListener("orientationchange",()=>this.handleOrientationChange()),this.setupPerformanceMonitoring(),this.setupErrorHandling(),this.setupAccessibility(),this.setupAnalytics()}handleWindowLoad(){this.optimizePerformance()}handleResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.updateLayout()},250)}handleOrientationChange(){setTimeout(()=>{this.updateLayout()},100)}updateLayout(){window.cosmicBackground&&window.cosmicBackground.resizeCanvas(),this.updatePlanetPositions()}updatePlanetPositions(){const t=window.innerWidth<768;document.querySelectorAll(".planet").forEach(e=>{t?e.classList.add("mobile-layout"):e.classList.remove("mobile-layout")})}setupPerformanceMonitoring(){if("PerformanceObserver"in window){new PerformanceObserver(t=>{t.getEntries().forEach(t=>{"first-paint"===t.name&&(this.performanceMetrics.firstPaint=t.startTime),"first-contentful-paint"===t.name&&(this.performanceMetrics.firstContentfulPaint=t.startTime)})}).observe({entryTypes:["paint"]});new PerformanceObserver(t=>{const e=t.getEntries(),i=e[e.length-1];this.performanceMetrics.lcp=i.startTime}).observe({entryTypes:["largest-contentful-paint"]})}}setupErrorHandling(){window.addEventListener("error",t=>{console.error("Global error:",t.error),this.handleError(t.error)}),window.addEventListener("unhandledrejection",t=>{console.error("Unhandled promise rejection:",t.reason),this.handleError(t.reason)})}handleError(t){console.error("Application error:",t),this.isCriticalError(t)&&this.showErrorMessage()}isCriticalError(t){return["Cannot read property","is not a function","Network Error"].some(e=>t.message&&t.message.includes(e))}showErrorMessage(){const t=document.createElement("div");t.innerHTML='\n      <div style="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.9);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 9999;\n        color: white;\n        font-family: Inter, sans-serif;\n      ">\n        <div style="text-align: center; max-width: 400px; padding: 2rem;">\n          <h2>Oops! Something went wrong</h2>\n          <p>We\'re experiencing technical difficulties. Please refresh the page to try again.</p>\n          <button onclick="window.location.reload()" style="\n            background: linear-gradient(135deg, #00F5FF, #B100FF);\n            color: white;\n            border: none;\n            padding: 1rem 2rem;\n            border-radius: 50px;\n            font-weight: 600;\n            cursor: pointer;\n            margin-top: 1rem;\n          ">Refresh Page</button>\n        </div>\n      </div>\n    ',document.body.appendChild(t)}setupAccessibility(){document.addEventListener("keydown",t=>{this.handleKeyboardNavigation(t)}),this.setupScreenReaderSupport(),this.setupFocusManagement()}handleKeyboardNavigation(t){if("Tab"===t.key&&this.manageFocusOrder(t),"Enter"===t.key||" "===t.key){const e=document.activeElement;e&&e.classList.contains("planet")&&(t.preventDefault(),e.click())}}manageFocusOrder(t){document.querySelectorAll('.planet, .modal-close, .modal-btn, .social-link, button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')}setupScreenReaderSupport(){document.querySelectorAll(".planet").forEach(t=>{const e=t.dataset.planet;t.setAttribute("aria-label",`Explore ${e} services`),t.setAttribute("aria-describedby",`${e}-description`)})}setupFocusManagement(){this.createSkipLinks(),this.enhanceFocusIndicators()}createSkipLinks(){const t=document.createElement("div");t.innerHTML='\n      <a href="#main-content" class="skip-link">Skip to main content</a>\n      <a href="#navigation" class="skip-link">Skip to navigation</a>\n    ',t.className="skip-links";const e=document.createElement("style");e.textContent="\n      .skip-links {\n        position: absolute;\n        top: -100px;\n        left: 0;\n        z-index: 10000;\n      }\n      .skip-link {\n        position: absolute;\n        top: 0;\n        left: 0;\n        background: var(--dev-primary);\n        color: var(--cosmic-bg-start);\n        padding: 0.5rem 1rem;\n        text-decoration: none;\n        font-weight: 600;\n        border-radius: 0 0 8px 0;\n        transition: top 0.3s ease;\n      }\n      .skip-link:focus {\n        top: 0;\n      }\n    ",document.head.appendChild(e),document.body.insertBefore(t,document.body.firstChild)}enhanceFocusIndicators(){}setupAnalytics(){this.trackPageView(),this.setupInteractionTracking()}trackPageView(){console.log("Page view tracked")}setupInteractionTracking(){document.addEventListener("click",t=>{if(t.target.closest(".planet")){const e=t.target.closest(".planet");this.trackInteraction("planet_click",e.dataset.planet)}})}trackInteraction(t,e){console.log(`Interaction tracked: ${t} - ${e}`)}optimizePerformance(){this.lazyLoadImages(),this.optimizeAnimations(),this.setupIntersectionObservers()}lazyLoadImages(){const t=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const i=t.target;i.src=i.dataset.src,i.removeAttribute("data-src"),e.unobserve(i)}})});t.forEach(t=>e.observe(t))}else t.forEach(t=>{t.src=t.dataset.src,t.removeAttribute("data-src")})}optimizeAnimations(){navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4&&document.body.classList.add("reduced-animations"),document.addEventListener("visibilitychange",()=>{document.hidden?this.pauseAnimations():this.resumeAnimations()})}pauseAnimations(){document.body.classList.add("paused-animations")}resumeAnimations(){document.body.classList.remove("paused-animations")}setupIntersectionObservers(){const t=document.querySelectorAll(".planet, .central-sun"),e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?t.target.classList.add("in-view"):t.target.classList.remove("in-view")})},{threshold:.1});t.forEach(t=>e.observe(t))}dispatchLoadedEvent(){const t=new CustomEvent("cosmicAppLoaded",{detail:{loadTime:this.performanceMetrics.loadEnd-this.performanceMetrics.loadStart,metrics:this.performanceMetrics}});document.dispatchEvent(t)}getPerformanceMetrics(){return this.performanceMetrics}isAppLoaded(){return this.isLoaded}destroy(){this.components.cosmicBackground&&this.components.cosmicBackground.destroy(),this.components.planetAnimations&&this.components.planetAnimations.destroy(),this.components.modalSystem&&this.components.modalSystem.destroy(),this.isLoaded=!1}}document.addEventListener("DOMContentLoaded",()=>{window.cosmicApp=new CosmicApp}),window.addEventListener("beforeunload",()=>{window.cosmicApp&&window.cosmicApp.destroy()}),"undefined"!=typeof module&&module.exports&&(module.exports=CosmicApp);